---
description: Ensure all translation strings are synchronized across all languages
globs:
  - "anchor/dashboard/frontend/public/locales/**/*.json"
  - "anchor/dashboard/frontend/src/**/*.tsx"
  - "anchor/dashboard/frontend/src/**/*.ts"
alwaysApply: true
---

# Translation Synchronization Rule

When working with translation files or components that use translations (`useTranslation`, `t()` function), **ALWAYS** ensure all 9 supported languages have the same translation keys.

## Supported Languages

The dashboard supports these languages (folders in `public/locales/`):

1. ğŸ‡ºğŸ‡¸ `en` - English (primary/reference)
2. ğŸ‡§ğŸ‡· `pt-BR` - Portuguese (Brazil)
3. ğŸ‡ªğŸ‡¸ `es` - Spanish
4. ğŸ‡©ğŸ‡ª `de` - German
5. ğŸ‡«ğŸ‡· `fr` - French
6. ğŸ‡®ğŸ‡¹ `it` - Italian
7. ğŸ‡¯ğŸ‡µ `ja` - Japanese
8. ğŸ‡°ğŸ‡· `ko` - Korean
9. ğŸ‡¨ğŸ‡³ `zh-CN` - Chinese (Simplified)

## Rules

### When ADDING a new translation key:

1. First add to `en/common.json` (English is the reference)
2. **IMMEDIATELY** add the same key to ALL other language files with appropriate translations
3. Use proper translations for each language - don't leave English text in non-English files

### When MODIFYING a translation key:

1. If changing the key name, update it in ALL 9 language files
2. If changing the English text, review if other languages need updates too

### When DELETING a translation key:

1. Remove it from ALL 9 language files, not just English

### Translation Guidelines:

- Keep translations natural for each language (don't do literal word-by-word translations)
- Maintain the same placeholders (e.g., `{{count}}`, `{{name}}`) in all languages
- Keep technical terms consistent (e.g., "Bitcoin", "HODL", "sats" usually stay in English)
- Match the tone and formality level appropriate for each language

## File Structure

```
anchor/dashboard/frontend/public/locales/
â”œâ”€â”€ de/common.json      # German
â”œâ”€â”€ en/common.json      # English (PRIMARY)
â”œâ”€â”€ es/common.json      # Spanish
â”œâ”€â”€ fr/common.json      # French
â”œâ”€â”€ it/common.json      # Italian
â”œâ”€â”€ ja/common.json      # Japanese
â”œâ”€â”€ ko/common.json      # Korean
â”œâ”€â”€ pt-BR/common.json   # Portuguese (Brazil)
â””â”€â”€ zh-CN/common.json   # Chinese (Simplified)
```

## Example Workflow

When adding a new feature with text:

```tsx
// In a component
const { t } = useTranslation();
return <p>{t("myFeature.newMessage", "Hello World")}</p>;
```

You MUST add to ALL 9 files:

```json
// en/common.json
"myFeature": {
  "newMessage": "Hello World"
}

// pt-BR/common.json
"myFeature": {
  "newMessage": "OlÃ¡ Mundo"
}

// es/common.json
"myFeature": {
  "newMessage": "Hola Mundo"
}

// de/common.json
"myFeature": {
  "newMessage": "Hallo Welt"
}

// fr/common.json
"myFeature": {
  "newMessage": "Bonjour le monde"
}

// it/common.json
"myFeature": {
  "newMessage": "Ciao Mondo"
}

// ja/common.json
"myFeature": {
  "newMessage": "ã“ã‚“ã«ã¡ã¯ä¸–ç•Œ"
}

// ko/common.json
"myFeature": {
  "newMessage": "ì•ˆë…•í•˜ì„¸ìš” ì„¸ê³„"
}

// zh-CN/common.json
"myFeature": {
  "newMessage": "ä½ å¥½ä¸–ç•Œ"
}
```

## Quick Reference for Common Phrases

| English | Portuguese | Spanish | German | French | Italian | Japanese | Korean | Chinese |
|---------|------------|---------|--------|--------|---------|----------|--------|---------|
| Save | Salvar | Guardar | Speichern | Enregistrer | Salva | ä¿å­˜ | ì €ì¥ | ä¿å­˜ |
| Cancel | Cancelar | Cancelar | Abbrechen | Annuler | Annulla | ã‚­ãƒ£ãƒ³ã‚»ãƒ« | ì·¨ì†Œ | å–æ¶ˆ |
| Delete | Excluir | Eliminar | LÃ¶schen | Supprimer | Elimina | å‰Šé™¤ | ì‚­ì œ | åˆ é™¤ |
| Error | Erro | Error | Fehler | Erreur | Errore | ã‚¨ãƒ©ãƒ¼ | ì˜¤ë¥˜ | é”™è¯¯ |
| Success | Sucesso | Ã‰xito | Erfolg | SuccÃ¨s | Successo | æˆåŠŸ | ì„±ê³µ | æˆåŠŸ |
| Loading | Carregando | Cargando | Laden | Chargement | Caricamento | èª­ã¿è¾¼ã¿ä¸­ | ë¡œë”© ì¤‘ | åŠ è½½ä¸­ |

## Verification Command

After making translation changes, you can verify all keys are synchronized by comparing the JSON files:

```bash
cd anchor/dashboard/frontend/public/locales
# Compare English keys with other languages
for lang in de es fr it ja ko pt-BR zh-CN; do
  echo "=== Missing in $lang ==="
  diff <(cat en/common.json | grep -o '"[^"]*":' | sort -u) \
       <(cat $lang/common.json | grep -o '"[^"]*":' | sort -u) | grep "^<"
done
```
