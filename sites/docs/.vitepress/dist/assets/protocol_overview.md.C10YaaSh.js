import{_ as e,c as a,o as s,ag as n}from"./chunks/framework.dvv-DFtf.js";const g=JSON.parse('{"title":"Protocol Overview","description":"","frontmatter":{},"headers":[],"relativePath":"protocol/overview.md","filePath":"protocol/overview.md"}'),o={name:"protocol/overview.md"};function r(i,t,d,l,c,p){return s(),a("div",null,[...t[0]||(t[0]=[n(`<h1 id="protocol-overview" tabindex="-1">Protocol Overview <a class="header-anchor" href="#protocol-overview" aria-label="Permalink to &quot;Protocol Overview&quot;">​</a></h1><p>The <strong>Anchor Protocol</strong> is a Bitcoin-native messaging protocol that enables embedding structured, immutable data directly on the Bitcoin blockchain. Unlike traditional off-chain solutions, Anchor messages inherit Bitcoin&#39;s security guarantees: censorship resistance, immutability, and cryptographic timestamping.</p><h2 id="core-concepts" tabindex="-1">Core Concepts <a class="header-anchor" href="#core-concepts" aria-label="Permalink to &quot;Core Concepts&quot;">​</a></h2><h3 id="messages-on-bitcoin" tabindex="-1">Messages on Bitcoin <a class="header-anchor" href="#messages-on-bitcoin" aria-label="Permalink to &quot;Messages on Bitcoin&quot;">​</a></h3><p>Every Anchor message is embedded in a Bitcoin transaction. The message data can be stored in several locations within the transaction (called &quot;carriers&quot;), each with different trade-offs for size, cost, and permanence.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────┐</span></span>
<span class="line"><span>│            Bitcoin Transaction           │</span></span>
<span class="line"><span>├─────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Input(s)        │  Output(s)           │</span></span>
<span class="line"><span>│                  │  ├─ Payment output   │</span></span>
<span class="line"><span>│                  │  ├─ Change output    │</span></span>
<span class="line"><span>│                  │  └─ OP_RETURN        │</span></span>
<span class="line"><span>│                  │      └─ ANCHOR MSG   │</span></span>
<span class="line"><span>└─────────────────────────────────────────┘</span></span></code></pre></div><h3 id="threading-with-anchors" tabindex="-1">Threading with Anchors <a class="header-anchor" href="#threading-with-anchors" aria-label="Permalink to &quot;Threading with Anchors&quot;">​</a></h3><p>Messages can reference parent messages by including their transaction ID prefix and output index. This creates verifiable chains of messages—replies, updates, and conversations—all provably ordered by Bitcoin blocks.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Block 800,000          Block 800,001          Block 800,002</span></span>
<span class="line"><span>┌─────────┐            ┌─────────┐            ┌─────────┐</span></span>
<span class="line"><span>│  Msg A  │◄───────────│  Msg B  │◄───────────│  Msg C  │</span></span>
<span class="line"><span>│ (root)  │  anchors   │ (reply) │  anchors   │ (reply) │</span></span>
<span class="line"><span>└─────────┘            └─────────┘            └─────────┘</span></span></code></pre></div><h3 id="message-kinds" tabindex="-1">Message Kinds <a class="header-anchor" href="#message-kinds" aria-label="Permalink to &quot;Message Kinds&quot;">​</a></h3><p>Each message has a <strong>kind</strong> that determines how the body should be interpreted:</p><ul><li><strong>Generic (0)</strong>: Raw binary data</li><li><strong>Text (1)</strong>: UTF-8 encoded text</li><li><strong>State (2)</strong>: State updates for applications</li><li><strong>Custom (10-255)</strong>: Application-specific types</li></ul><h2 id="why-anchor" tabindex="-1">Why Anchor? <a class="header-anchor" href="#why-anchor" aria-label="Permalink to &quot;Why Anchor?&quot;">​</a></h2><h3 id="compared-to-ordinals-inscriptions" tabindex="-1">Compared to Ordinals/Inscriptions <a class="header-anchor" href="#compared-to-ordinals-inscriptions" aria-label="Permalink to &quot;Compared to Ordinals/Inscriptions&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feature</th><th>Anchor</th><th>Ordinals</th></tr></thead><tbody><tr><td>Message threading</td><td>✅ Native</td><td>❌ None</td></tr><tr><td>Multiple carriers</td><td>✅ 5 types</td><td>❌ Witness only</td></tr><tr><td>Structured types</td><td>✅ Kinds system</td><td>❌ MIME-based</td></tr><tr><td>Fee efficiency</td><td>✅ Compact binary</td><td>⚠️ Envelope overhead</td></tr><tr><td>Small messages</td><td>✅ OP_RETURN</td><td>❌ Minimum 546 sats</td></tr></tbody></table><h3 id="compared-to-nostr" tabindex="-1">Compared to Nostr <a class="header-anchor" href="#compared-to-nostr" aria-label="Permalink to &quot;Compared to Nostr&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feature</th><th>Anchor</th><th>Nostr</th></tr></thead><tbody><tr><td>Data permanence</td><td>✅ Blockchain</td><td>⚠️ Relay-dependent</td></tr><tr><td>Timestamping</td><td>✅ Block-based</td><td>❌ Client-claimed</td></tr><tr><td>Censorship resistance</td><td>✅ Mining</td><td>⚠️ Relay policies</td></tr><tr><td>Cost</td><td>⚠️ Tx fees</td><td>✅ Free</td></tr><tr><td>Speed</td><td>⚠️ Block time</td><td>✅ Instant</td></tr></tbody></table><h2 id="protocol-version" tabindex="-1">Protocol Version <a class="header-anchor" href="#protocol-version" aria-label="Permalink to &quot;Protocol Version&quot;">​</a></h2><p>The current protocol version is <strong>v1</strong>, identified by the magic bytes <code>0xA11C0001</code>:</p><ul><li><code>0xA11C</code> = &quot;ANCH&quot; in leetspeak</li><li><code>0x0001</code> = Version 1</li></ul><p>Future versions may introduce new features while maintaining backward compatibility through the magic byte versioning.</p><h2 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">​</a></h2><ol><li><strong><a href="/protocol/message-format.html">Message Format</a></strong> - Learn the binary structure</li><li><strong><a href="/protocol/carriers.html">Carrier Types</a></strong> - Choose how to embed data</li><li><strong><a href="/protocol/anchoring.html">Anchoring System</a></strong> - Create threaded messages</li><li><strong><a href="/sdk/getting-started.html">SDK Quickstart</a></strong> - Start building</li></ol>`,23)])])}const m=e(o,[["render",r]]);export{g as __pageData,m as default};
